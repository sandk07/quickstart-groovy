import org.gradle.internal.os.OperatingSystem;

/**
 * Synchronize Script
 * Run this before the main build
 * Command:
 * gradle -I init.gradle synchRepo
 */
allprojects {
    /**
	 * Synchronize Repository
	 */
    task synchRepo(type: Exec) {
    	
    	//Check for Windows OS
    	if(OperatingSystem.current().isWindows()){
    		commandLine 'cmd', '/c', 'mvn', 'dependency:resolve'
    	}
    	//Check for Linux OS
    	else if(OperatingSystem.current().isLinux()){
    		commandLine './mvn', 'compile'
		}
		//Check for Mac OS
		else if(OperatingSystem.current().isMacOsX()){
			//command for mac
		}
		//Check for other OS
		else{
			println("No Command configured")
		}

	}

	/**
	 * Detect Operating systems
	 */
	task detect {
	    doLast {
	    	println(OperatingSystem.current().isWindows())
	        println(OperatingSystem.current().isMacOsX())
	        println(OperatingSystem.current().isLinux())
	    }   
	}
}


